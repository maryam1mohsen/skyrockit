<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <title>Editing <%= application.title %></title>
</head>
<body>
    <%- include('../partials/_navbar.ejs') %>
    <h1>Edit <%= application.title %> at <%= application.company %></h1>

    <form action="/users/<%= user._id %>/applications/<%= application._id %>?_method=PUT" method="POST">
        <label for="company">Company:</label>
        <input type="text" name="company" id="company" value="<%= application.company %>" required>

        <label for="title">Title:</label>
        <input type="text" name="title" id="title" value="<%= application.title %>">

        <label for="date">Date:</label>
        <input type="date" name="date" id="date" value="<%= application.date %>">

        <label for="notes">Notes:</label>
        <textarea name="notes" id="notes" value="<%= application.notes %>"></textarea>

        <label for="postingLink">Posting Link:</label>
        <input type="text" name="postingLink" id="postingLink" value="<%= application.link %>">

        <label for="status">Status:</label>
        <select name="status" id="status">
          <option value="">Select a status</option>
          <% statusOptions.forEach( status =>{ %>
            <option
            value="<%= status.toLowerCase() %>"
            <%= application.status === status.toLowerCase() ? "selected" : '' %> >
              <%= status %>
            </option>
          <% }) %>
        </select>
        <button type="submit">Update Application</button>
    </form>

</body>
</html>